<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CodeCast Demo</title>
  <script src="//www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1"></script>
  <style>
    body {
      background: black;
      color: white;
      display: flex;
      align-items: flex-end;
      flex-direction: column;
      height: 100vh;
      margin: 0;
      padding: 1rem;
      box-sizing: border-box;
    }
    google-cast-launcher {
      height: 2.5rem;
      width: 2.5rem;
      margin: 1rem;
      position: absolute;
      right: 0;
      z-index: 1;
    }
    .codeWrapper {
      height: 60%;
      margin: 0 auto 1rem auto;
      position: relative;
    }
    .code {
      height: 100%;
      padding: 1rem;
      border: solid 1px #404040;
      box-sizing: border-box;
    }
    .codeWrapper, .logs {
      max-width: 1500px;
    }
    .codeWrapper, .code, .logs {
      width: 100%;
      font-size: 16px;
      background: #202020;
      color: #ddd;
      resize: none;
    }
    .code:focus, .logs:focus {
      outline: none;
    }
    .logs {
      height: 40%;
      margin: auto;
      border: solid 1px #404040;
      box-sizing: border-box;
    }
    .logs > option {
      padding: 1rem;
      color: #ddd;
      text-overflow: ellipsis;
      overflow: hidden;
    }
    .code, .logs {
      scrollbar-width: none;
    }
    .code::-webkit-scrollbar, .logs::-webkit-scrollbar {
      width: 0px;
    }
  </style>
</head>
<body>
  <div class="codeWrapper">
    <google-cast-launcher></google-cast-launcher>
    <textarea class="code" spellcheck="false"></textarea>
  </div>
  <select name="logs" class="logs" multiple></select>
<script defer>/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/codecast/dist/sender.js":
/*!**********************************************!*\
  !*** ./node_modules/codecast/dist/sender.js ***!
  \**********************************************/
/***/ ((module) => {

!function(e,t){if(true)module.exports=t();else { var n, o; }}(self,(function(){return(()=>{"use strict";var e={d:(t,o)=>{for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{CodeCast:()=>w});const o={};function n(e){const t=new Promise(((t,n)=>{o[e]={resolve:t,reject:n}}));return o[e].promise=t,o[e]}function r(){return`CodeCast_${Math.random()}`}function s(e,t=25e3){const o=[];for(;""!==e;)o.push(e.slice(0,t)),e=e.slice(t);return o}let c=!1;function i(){return c}function a(e){c=e}const d=[];async function f(e){if("string"!=typeof e)throw Error("No URL provided to send method");return u(await(await fetch(e)).text())}function u(e){if("string"!=typeof e)throw Error("No JS string provided to sendString method");const t=r();return d.push({id:t,code:e}),i()?(l(),n(t).promise):n(t).promise}function l(){if(!i())throw Error("RemotePlayer Not Connected Yet");for(;d.length>0;){const e=d.shift();S(e.id,s(e.code))}}let m;function p(e,t){const{id:n,data:r}=JSON.parse(t);!function(e,t){o[e].resolve(t)}(n,r)}function g(e,t){const{id:n,error:r}=JSON.parse(t);!function(e,t){o[e].reject(t)}(n,r)}function y(){a(!0),l()}function h(){m&&m.sendMessage("urn:x-cast:com.codecast.reload",{})}function S(e,t=[]){m&&t.forEach(((o,n)=>{const s=t.length;!function(e={id:r()}){m&&m.sendMessage("urn:x-cast:com.codecast.send",e)}({code:o,id:e,index:n,length:s})}))}function v(e){e&&(m=e,m.addMessageListener("urn:x-cast:com.codecast.connected",y),m.addMessageListener("urn:x-cast:com.codecast.resolve",p),m.addMessageListener("urn:x-cast:com.codecast.reject",g))}class w{#shouldReload;constructor(e){const t=new cast.framework.RemotePlayer,o=new cast.framework.RemotePlayerController(t),n=cast.framework.RemotePlayerEventType,r=cast.framework.CastContext.getInstance();this.#shouldReload=e??!0,a(t.isConnected??!1),o.addEventListener(n.IS_CONNECTED_CHANGED,(e=>{const t=r.getCurrentSession();a(e.value),v(t),"SESSION_RESUMED"===t?.getSessionState()&&this.#shouldReload&&(h(),a(!1))}))}send=f;sendString=u;reload(){a(!1),h()}}return t})()}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VuZGVyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29kZWNhc3Qvc2VuZGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIiFmdW5jdGlvbihlLHQpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlKW1vZHVsZS5leHBvcnRzPXQoKTtlbHNlIGlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoW10sdCk7ZWxzZXt2YXIgbz10KCk7Zm9yKHZhciBuIGluIG8pKFwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHM6ZSlbbl09b1tuXX19KHNlbGYsKGZ1bmN0aW9uKCl7cmV0dXJuKCgpPT57XCJ1c2Ugc3RyaWN0XCI7dmFyIGU9e2Q6KHQsbyk9Pntmb3IodmFyIG4gaW4gbyllLm8obyxuKSYmIWUubyh0LG4pJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLHtlbnVtZXJhYmxlOiEwLGdldDpvW25dfSl9LG86KGUsdCk9Pk9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLHQpLHI6ZT0+e1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9fSx0PXt9O2Uucih0KSxlLmQodCx7Q29kZUNhc3Q6KCk9Pnd9KTtjb25zdCBvPXt9O2Z1bmN0aW9uIG4oZSl7Y29uc3QgdD1uZXcgUHJvbWlzZSgoKHQsbik9PntvW2VdPXtyZXNvbHZlOnQscmVqZWN0Om59fSkpO3JldHVybiBvW2VdLnByb21pc2U9dCxvW2VdfWZ1bmN0aW9uIHIoKXtyZXR1cm5gQ29kZUNhc3RfJHtNYXRoLnJhbmRvbSgpfWB9ZnVuY3Rpb24gcyhlLHQ9MjVlMyl7Y29uc3Qgbz1bXTtmb3IoO1wiXCIhPT1lOylvLnB1c2goZS5zbGljZSgwLHQpKSxlPWUuc2xpY2UodCk7cmV0dXJuIG99bGV0IGM9ITE7ZnVuY3Rpb24gaSgpe3JldHVybiBjfWZ1bmN0aW9uIGEoZSl7Yz1lfWNvbnN0IGQ9W107YXN5bmMgZnVuY3Rpb24gZihlKXtpZihcInN0cmluZ1wiIT10eXBlb2YgZSl0aHJvdyBFcnJvcihcIk5vIFVSTCBwcm92aWRlZCB0byBzZW5kIG1ldGhvZFwiKTtyZXR1cm4gdShhd2FpdChhd2FpdCBmZXRjaChlKSkudGV4dCgpKX1mdW5jdGlvbiB1KGUpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXRocm93IEVycm9yKFwiTm8gSlMgc3RyaW5nIHByb3ZpZGVkIHRvIHNlbmRTdHJpbmcgbWV0aG9kXCIpO2NvbnN0IHQ9cigpO3JldHVybiBkLnB1c2goe2lkOnQsY29kZTplfSksaSgpPyhsKCksbih0KS5wcm9taXNlKTpuKHQpLnByb21pc2V9ZnVuY3Rpb24gbCgpe2lmKCFpKCkpdGhyb3cgRXJyb3IoXCJSZW1vdGVQbGF5ZXIgTm90IENvbm5lY3RlZCBZZXRcIik7Zm9yKDtkLmxlbmd0aD4wOyl7Y29uc3QgZT1kLnNoaWZ0KCk7UyhlLmlkLHMoZS5jb2RlKSl9fWxldCBtO2Z1bmN0aW9uIHAoZSx0KXtjb25zdHtpZDpuLGRhdGE6cn09SlNPTi5wYXJzZSh0KTshZnVuY3Rpb24oZSx0KXtvW2VdLnJlc29sdmUodCl9KG4scil9ZnVuY3Rpb24gZyhlLHQpe2NvbnN0e2lkOm4sZXJyb3I6cn09SlNPTi5wYXJzZSh0KTshZnVuY3Rpb24oZSx0KXtvW2VdLnJlamVjdCh0KX0obixyKX1mdW5jdGlvbiB5KCl7YSghMCksbCgpfWZ1bmN0aW9uIGgoKXttJiZtLnNlbmRNZXNzYWdlKFwidXJuOngtY2FzdDpjb20uY29kZWNhc3QucmVsb2FkXCIse30pfWZ1bmN0aW9uIFMoZSx0PVtdKXttJiZ0LmZvckVhY2goKChvLG4pPT57Y29uc3Qgcz10Lmxlbmd0aDshZnVuY3Rpb24oZT17aWQ6cigpfSl7bSYmbS5zZW5kTWVzc2FnZShcInVybjp4LWNhc3Q6Y29tLmNvZGVjYXN0LnNlbmRcIixlKX0oe2NvZGU6byxpZDplLGluZGV4Om4sbGVuZ3RoOnN9KX0pKX1mdW5jdGlvbiB2KGUpe2UmJihtPWUsbS5hZGRNZXNzYWdlTGlzdGVuZXIoXCJ1cm46eC1jYXN0OmNvbS5jb2RlY2FzdC5jb25uZWN0ZWRcIix5KSxtLmFkZE1lc3NhZ2VMaXN0ZW5lcihcInVybjp4LWNhc3Q6Y29tLmNvZGVjYXN0LnJlc29sdmVcIixwKSxtLmFkZE1lc3NhZ2VMaXN0ZW5lcihcInVybjp4LWNhc3Q6Y29tLmNvZGVjYXN0LnJlamVjdFwiLGcpKX1jbGFzcyB3eyNzaG91bGRSZWxvYWQ7Y29uc3RydWN0b3IoZSl7Y29uc3QgdD1uZXcgY2FzdC5mcmFtZXdvcmsuUmVtb3RlUGxheWVyLG89bmV3IGNhc3QuZnJhbWV3b3JrLlJlbW90ZVBsYXllckNvbnRyb2xsZXIodCksbj1jYXN0LmZyYW1ld29yay5SZW1vdGVQbGF5ZXJFdmVudFR5cGUscj1jYXN0LmZyYW1ld29yay5DYXN0Q29udGV4dC5nZXRJbnN0YW5jZSgpO3RoaXMuI3Nob3VsZFJlbG9hZD1lPz8hMCxhKHQuaXNDb25uZWN0ZWQ/PyExKSxvLmFkZEV2ZW50TGlzdGVuZXIobi5JU19DT05ORUNURURfQ0hBTkdFRCwoZT0+e2NvbnN0IHQ9ci5nZXRDdXJyZW50U2Vzc2lvbigpO2EoZS52YWx1ZSksdih0KSxcIlNFU1NJT05fUkVTVU1FRFwiPT09dD8uZ2V0U2Vzc2lvblN0YXRlKCkmJnRoaXMuI3Nob3VsZFJlbG9hZCYmKGgoKSxhKCExKSl9KSl9c2VuZD1mO3NlbmRTdHJpbmc9dTtyZWxvYWQoKXthKCExKSxoKCl9fXJldHVybiB0fSkoKX0pKTsiXSwibWFwcGluZ3MiOiJBQUFBIiwic291cmNlUm9vdCI6IiJ9

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
/*!*************************!*\
  !*** ./sender/index.js ***!
  \*************************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var codecast_sender__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! codecast/sender */ "./node_modules/codecast/dist/sender.js");
/* harmony import */ var codecast_sender__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(codecast_sender__WEBPACK_IMPORTED_MODULE_0__);


window['__onGCastApiAvailable'] = function(isAvailable) {
  if (isAvailable && cast) {
    cast.framework.CastContext.getInstance().setOptions({
      receiverApplicationId: '8FD9262C',
      autoJoinPolicy: chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED
    })

    const player = new cast.framework.RemotePlayer()
    const controller = new cast.framework.RemotePlayerController(player)
    const events = cast.framework.RemotePlayerEventType
    const defaultCode = `const context = cast.framework.CastReceiverContext.getInstance()
const manager = context.getPlayerManager()

manager.load({
  autoplay:true,
  media: {
    contentUrl: 'https://test-streams.mux.dev/x36xhzz/x36xhzz.m3u8'
  }
}).then(() => {
  resolve('Content loaded successfully')
}).catch(e => {
  reject(\`Content failed to load: \${JSON.stringify(e)}\`)
})`

    const codeCast = new codecast_sender__WEBPACK_IMPORTED_MODULE_0__.CodeCast()
    const codeInput = document.querySelector('.code')
    const code = sessionStorage.getItem('codecast') || defaultCode
    
    codeInput.value = code

    controller.addEventListener(events.IS_CONNECTED_CHANGED, () => {
      sendCode(codeCast, code)
    })

    document.addEventListener('keydown', (event) => {
      if ((event.ctrlKey || event.metaKey) && event.code === 'KeyS') {
        sessionStorage.setItem('codecast', codeInput.value)
      
        codeCast.reload()
        sendCode(codeCast, codeInput.value)
      } else if (event.code === 'Tab') {
        const code = codeInput.value
        const beforeCode = code.substring(0, codeInput.selectionStart)
        const afterCode = code.substring(codeInput.selectionEnd, code.length)

        codeInput.value = `${beforeCode}  ${afterCode}`
        
        const newCursorPosition = codeInput.value.length - afterCode.length
        codeInput.setSelectionRange(newCursorPosition, newCursorPosition);
      } else {
        return
      }

      event.preventDefault();
    })
  }
}

function appendToConsole(color, value) {
  const option = document.createElement('option')
  const logs = document.querySelector('.logs')
  
  option.innerText = value
  option.disabled = true
  option.style.background = color

  logs.append(option)
  logs.scrollTop = logs.scrollHeight
}

function sendCode(codeCast, code) {
  codeCast.sendString(code)
    .then(data => {
      console.log(data)
      appendToConsole('transparent', data)
    })
    .catch(error => {
      console.error(error)
      appendToConsole('rgba(255, 0, 0, 0.2)', error)
    })
}

})();

/******/ })()
;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2VuZGVyLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29kZWNhc3Qtc2FtcGxlLy4vbm9kZV9tb2R1bGVzL2NvZGVjYXN0L2Rpc3Qvc2VuZGVyLmpzIiwid2VicGFjazovL2NvZGVjYXN0LXNhbXBsZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9jb2RlY2FzdC1zYW1wbGUvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vY29kZWNhc3Qtc2FtcGxlL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9jb2RlY2FzdC1zYW1wbGUvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9jb2RlY2FzdC1zYW1wbGUvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly9jb2RlY2FzdC1zYW1wbGUvLi9zZW5kZXIvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiIWZ1bmN0aW9uKGUsdCl7aWYoXCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJlwib2JqZWN0XCI9PXR5cGVvZiBtb2R1bGUpbW9kdWxlLmV4cG9ydHM9dCgpO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZGVmaW5lJiZkZWZpbmUuYW1kKWRlZmluZShbXSx0KTtlbHNle3ZhciBvPXQoKTtmb3IodmFyIG4gaW4gbykoXCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHM/ZXhwb3J0czplKVtuXT1vW25dfX0oc2VsZiwoZnVuY3Rpb24oKXtyZXR1cm4oKCk9PntcInVzZSBzdHJpY3RcIjt2YXIgZT17ZDoodCxvKT0+e2Zvcih2YXIgbiBpbiBvKWUubyhvLG4pJiYhZS5vKHQsbikmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4se2VudW1lcmFibGU6ITAsZ2V0Om9bbl19KX0sbzooZSx0KT0+T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsdCkscjplPT57XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX19LHQ9e307ZS5yKHQpLGUuZCh0LHtDb2RlQ2FzdDooKT0+d30pO2NvbnN0IG89e307ZnVuY3Rpb24gbihlKXtjb25zdCB0PW5ldyBQcm9taXNlKCgodCxuKT0+e29bZV09e3Jlc29sdmU6dCxyZWplY3Q6bn19KSk7cmV0dXJuIG9bZV0ucHJvbWlzZT10LG9bZV19ZnVuY3Rpb24gcigpe3JldHVybmBDb2RlQ2FzdF8ke01hdGgucmFuZG9tKCl9YH1mdW5jdGlvbiBzKGUsdD0yNWUzKXtjb25zdCBvPVtdO2Zvcig7XCJcIiE9PWU7KW8ucHVzaChlLnNsaWNlKDAsdCkpLGU9ZS5zbGljZSh0KTtyZXR1cm4gb31sZXQgYz0hMTtmdW5jdGlvbiBpKCl7cmV0dXJuIGN9ZnVuY3Rpb24gYShlKXtjPWV9Y29uc3QgZD1bXTthc3luYyBmdW5jdGlvbiBmKGUpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXRocm93IEVycm9yKFwiTm8gVVJMIHByb3ZpZGVkIHRvIHNlbmQgbWV0aG9kXCIpO3JldHVybiB1KGF3YWl0KGF3YWl0IGZldGNoKGUpKS50ZXh0KCkpfWZ1bmN0aW9uIHUoZSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGUpdGhyb3cgRXJyb3IoXCJObyBKUyBzdHJpbmcgcHJvdmlkZWQgdG8gc2VuZFN0cmluZyBtZXRob2RcIik7Y29uc3QgdD1yKCk7cmV0dXJuIGQucHVzaCh7aWQ6dCxjb2RlOmV9KSxpKCk/KGwoKSxuKHQpLnByb21pc2UpOm4odCkucHJvbWlzZX1mdW5jdGlvbiBsKCl7aWYoIWkoKSl0aHJvdyBFcnJvcihcIlJlbW90ZVBsYXllciBOb3QgQ29ubmVjdGVkIFlldFwiKTtmb3IoO2QubGVuZ3RoPjA7KXtjb25zdCBlPWQuc2hpZnQoKTtTKGUuaWQscyhlLmNvZGUpKX19bGV0IG07ZnVuY3Rpb24gcChlLHQpe2NvbnN0e2lkOm4sZGF0YTpyfT1KU09OLnBhcnNlKHQpOyFmdW5jdGlvbihlLHQpe29bZV0ucmVzb2x2ZSh0KX0obixyKX1mdW5jdGlvbiBnKGUsdCl7Y29uc3R7aWQ6bixlcnJvcjpyfT1KU09OLnBhcnNlKHQpOyFmdW5jdGlvbihlLHQpe29bZV0ucmVqZWN0KHQpfShuLHIpfWZ1bmN0aW9uIHkoKXthKCEwKSxsKCl9ZnVuY3Rpb24gaCgpe20mJm0uc2VuZE1lc3NhZ2UoXCJ1cm46eC1jYXN0OmNvbS5jb2RlY2FzdC5yZWxvYWRcIix7fSl9ZnVuY3Rpb24gUyhlLHQ9W10pe20mJnQuZm9yRWFjaCgoKG8sbik9Pntjb25zdCBzPXQubGVuZ3RoOyFmdW5jdGlvbihlPXtpZDpyKCl9KXttJiZtLnNlbmRNZXNzYWdlKFwidXJuOngtY2FzdDpjb20uY29kZWNhc3Quc2VuZFwiLGUpfSh7Y29kZTpvLGlkOmUsaW5kZXg6bixsZW5ndGg6c30pfSkpfWZ1bmN0aW9uIHYoZSl7ZSYmKG09ZSxtLmFkZE1lc3NhZ2VMaXN0ZW5lcihcInVybjp4LWNhc3Q6Y29tLmNvZGVjYXN0LmNvbm5lY3RlZFwiLHkpLG0uYWRkTWVzc2FnZUxpc3RlbmVyKFwidXJuOngtY2FzdDpjb20uY29kZWNhc3QucmVzb2x2ZVwiLHApLG0uYWRkTWVzc2FnZUxpc3RlbmVyKFwidXJuOngtY2FzdDpjb20uY29kZWNhc3QucmVqZWN0XCIsZykpfWNsYXNzIHd7I3Nob3VsZFJlbG9hZDtjb25zdHJ1Y3RvcihlKXtjb25zdCB0PW5ldyBjYXN0LmZyYW1ld29yay5SZW1vdGVQbGF5ZXIsbz1uZXcgY2FzdC5mcmFtZXdvcmsuUmVtb3RlUGxheWVyQ29udHJvbGxlcih0KSxuPWNhc3QuZnJhbWV3b3JrLlJlbW90ZVBsYXllckV2ZW50VHlwZSxyPWNhc3QuZnJhbWV3b3JrLkNhc3RDb250ZXh0LmdldEluc3RhbmNlKCk7dGhpcy4jc2hvdWxkUmVsb2FkPWU/PyEwLGEodC5pc0Nvbm5lY3RlZD8/ITEpLG8uYWRkRXZlbnRMaXN0ZW5lcihuLklTX0NPTk5FQ1RFRF9DSEFOR0VELChlPT57Y29uc3QgdD1yLmdldEN1cnJlbnRTZXNzaW9uKCk7YShlLnZhbHVlKSx2KHQpLFwiU0VTU0lPTl9SRVNVTUVEXCI9PT10Py5nZXRTZXNzaW9uU3RhdGUoKSYmdGhpcy4jc2hvdWxkUmVsb2FkJiYoaCgpLGEoITEpKX0pKX1zZW5kPWY7c2VuZFN0cmluZz11O3JlbG9hZCgpe2EoITEpLGgoKX19cmV0dXJuIHR9KSgpfSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqb2ljMlZ1WkdWeUxtcHpJaXdpYzI5MWNtTmxjeUk2V3lKM1pXSndZV05yT2k4dlkyOWtaV05oYzNRdmMyVnVaR1Z5TG1weklsMHNJbk52ZFhKalpYTkRiMjUwWlc1MElqcGJJaUZtZFc1amRHbHZiaWhsTEhRcGUybG1LRndpYjJKcVpXTjBYQ0k5UFhSNWNHVnZaaUJsZUhCdmNuUnpKaVpjSW05aWFtVmpkRndpUFQxMGVYQmxiMllnYlc5a2RXeGxLVzF2WkhWc1pTNWxlSEJ2Y25SelBYUW9LVHRsYkhObElHbG1LRndpWm5WdVkzUnBiMjVjSWowOWRIbHdaVzltSUdSbFptbHVaU1ltWkdWbWFXNWxMbUZ0WkNsa1pXWnBibVVvVzEwc2RDazdaV3h6Wlh0MllYSWdiejEwS0NrN1ptOXlLSFpoY2lCdUlHbHVJRzhwS0Z3aWIySnFaV04wWENJOVBYUjVjR1Z2WmlCbGVIQnZjblJ6UDJWNGNHOXlkSE02WlNsYmJsMDliMXR1WFgxOUtITmxiR1lzS0daMWJtTjBhVzl1S0NsN2NtVjBkWEp1S0NncFBUNTdYQ0oxYzJVZ2MzUnlhV04wWENJN2RtRnlJR1U5ZTJRNktIUXNieWs5UG50bWIzSW9kbUZ5SUc0Z2FXNGdieWxsTG04b2J5eHVLU1ltSVdVdWJ5aDBMRzRwSmlaUFltcGxZM1F1WkdWbWFXNWxVSEp2Y0dWeWRIa29kQ3h1TEh0bGJuVnRaWEpoWW14bE9pRXdMR2RsZERwdlcyNWRmU2w5TEc4NktHVXNkQ2s5UGs5aWFtVmpkQzV3Y205MGIzUjVjR1V1YUdGelQzZHVVSEp2Y0dWeWRIa3VZMkZzYkNobExIUXBMSEk2WlQwK2Uxd2lkVzVrWldacGJtVmtYQ0loUFhSNWNHVnZaaUJUZVcxaWIyd21KbE41YldKdmJDNTBiMU4wY21sdVoxUmhaeVltVDJKcVpXTjBMbVJsWm1sdVpWQnliM0JsY25SNUtHVXNVM2x0WW05c0xuUnZVM1J5YVc1blZHRm5MSHQyWVd4MVpUcGNJazF2WkhWc1pWd2lmU2tzVDJKcVpXTjBMbVJsWm1sdVpWQnliM0JsY25SNUtHVXNYQ0pmWDJWelRXOWtkV3hsWENJc2UzWmhiSFZsT2lFd2ZTbDlmU3gwUFh0OU8yVXVjaWgwS1N4bExtUW9kQ3g3UTI5a1pVTmhjM1E2S0NrOVBuZDlLVHRqYjI1emRDQnZQWHQ5TzJaMWJtTjBhVzl1SUc0b1pTbDdZMjl1YzNRZ2REMXVaWGNnVUhKdmJXbHpaU2dvS0hRc2JpazlQbnR2VzJWZFBYdHlaWE52YkhabE9uUXNjbVZxWldOME9tNTlmU2twTzNKbGRIVnliaUJ2VzJWZExuQnliMjFwYzJVOWRDeHZXMlZkZldaMWJtTjBhVzl1SUhJb0tYdHlaWFIxY201Z1EyOWtaVU5oYzNSZkpIdE5ZWFJvTG5KaGJtUnZiU2dwZldCOVpuVnVZM1JwYjI0Z2N5aGxMSFE5TWpWbE15bDdZMjl1YzNRZ2J6MWJYVHRtYjNJb08xd2lYQ0loUFQxbE95bHZMbkIxYzJnb1pTNXpiR2xqWlNnd0xIUXBLU3hsUFdVdWMyeHBZMlVvZENrN2NtVjBkWEp1SUc5OWJHVjBJR005SVRFN1puVnVZM1JwYjI0Z2FTZ3BlM0psZEhWeWJpQmpmV1oxYm1OMGFXOXVJR0VvWlNsN1l6MWxmV052Ym5OMElHUTlXMTA3WVhONWJtTWdablZ1WTNScGIyNGdaaWhsS1h0cFppaGNJbk4wY21sdVoxd2lJVDEwZVhCbGIyWWdaU2wwYUhKdmR5QkZjbkp2Y2loY0lrNXZJRlZTVENCd2NtOTJhV1JsWkNCMGJ5QnpaVzVrSUcxbGRHaHZaRndpS1R0eVpYUjFjbTRnZFNoaGQyRnBkQ2hoZDJGcGRDQm1aWFJqYUNobEtTa3VkR1Y0ZENncEtYMW1kVzVqZEdsdmJpQjFLR1VwZTJsbUtGd2ljM1J5YVc1blhDSWhQWFI1Y0dWdlppQmxLWFJvY205M0lFVnljbTl5S0Z3aVRtOGdTbE1nYzNSeWFXNW5JSEJ5YjNacFpHVmtJSFJ2SUhObGJtUlRkSEpwYm1jZ2JXVjBhRzlrWENJcE8yTnZibk4wSUhROWNpZ3BPM0psZEhWeWJpQmtMbkIxYzJnb2UybGtPblFzWTI5a1pUcGxmU2tzYVNncFB5aHNLQ2tzYmloMEtTNXdjbTl0YVhObEtUcHVLSFFwTG5CeWIyMXBjMlY5Wm5WdVkzUnBiMjRnYkNncGUybG1LQ0ZwS0NrcGRHaHliM2NnUlhKeWIzSW9YQ0pTWlcxdmRHVlFiR0Y1WlhJZ1RtOTBJRU52Ym01bFkzUmxaQ0JaWlhSY0lpazdabTl5S0R0a0xteGxibWQwYUQ0d095bDdZMjl1YzNRZ1pUMWtMbk5vYVdaMEtDazdVeWhsTG1sa0xITW9aUzVqYjJSbEtTbDlmV3hsZENCdE8yWjFibU4wYVc5dUlIQW9aU3gwS1h0amIyNXpkSHRwWkRwdUxHUmhkR0U2Y24wOVNsTlBUaTV3WVhKelpTaDBLVHNoWm5WdVkzUnBiMjRvWlN4MEtYdHZXMlZkTG5KbGMyOXNkbVVvZENsOUtHNHNjaWw5Wm5WdVkzUnBiMjRnWnlobExIUXBlMk52Ym5OMGUybGtPbTRzWlhKeWIzSTZjbjA5U2xOUFRpNXdZWEp6WlNoMEtUc2hablZ1WTNScGIyNG9aU3gwS1h0dlcyVmRMbkpsYW1WamRDaDBLWDBvYml4eUtYMW1kVzVqZEdsdmJpQjVLQ2w3WVNnaE1Da3NiQ2dwZldaMWJtTjBhVzl1SUdnb0tYdHRKaVp0TG5ObGJtUk5aWE56WVdkbEtGd2lkWEp1T25ndFkyRnpkRHBqYjIwdVkyOWtaV05oYzNRdWNtVnNiMkZrWENJc2UzMHBmV1oxYm1OMGFXOXVJRk1vWlN4MFBWdGRLWHR0SmlaMExtWnZja1ZoWTJnb0tDaHZMRzRwUFQ1N1kyOXVjM1FnY3oxMExteGxibWQwYURzaFpuVnVZM1JwYjI0b1pUMTdhV1E2Y2lncGZTbDdiU1ltYlM1elpXNWtUV1Z6YzJGblpTaGNJblZ5YmpwNExXTmhjM1E2WTI5dExtTnZaR1ZqWVhOMExuTmxibVJjSWl4bEtYMG9lMk52WkdVNmJ5eHBaRHBsTEdsdVpHVjRPbTRzYkdWdVozUm9Pbk45S1gwcEtYMW1kVzVqZEdsdmJpQjJLR1VwZTJVbUppaHRQV1VzYlM1aFpHUk5aWE56WVdkbFRHbHpkR1Z1WlhJb1hDSjFjbTQ2ZUMxallYTjBPbU52YlM1amIyUmxZMkZ6ZEM1amIyNXVaV04wWldSY0lpeDVLU3h0TG1Ga1pFMWxjM05oWjJWTWFYTjBaVzVsY2loY0luVnlianA0TFdOaGMzUTZZMjl0TG1OdlpHVmpZWE4wTG5KbGMyOXNkbVZjSWl4d0tTeHRMbUZrWkUxbGMzTmhaMlZNYVhOMFpXNWxjaWhjSW5WeWJqcDRMV05oYzNRNlkyOXRMbU52WkdWallYTjBMbkpsYW1WamRGd2lMR2NwS1gxamJHRnpjeUIzZXlOemFHOTFiR1JTWld4dllXUTdZMjl1YzNSeWRXTjBiM0lvWlNsN1kyOXVjM1FnZEQxdVpYY2dZMkZ6ZEM1bWNtRnRaWGR2Y21zdVVtVnRiM1JsVUd4aGVXVnlMRzg5Ym1WM0lHTmhjM1F1Wm5KaGJXVjNiM0pyTGxKbGJXOTBaVkJzWVhsbGNrTnZiblJ5YjJ4c1pYSW9kQ2tzYmoxallYTjBMbVp5WVcxbGQyOXlheTVTWlcxdmRHVlFiR0Y1WlhKRmRtVnVkRlI1Y0dVc2NqMWpZWE4wTG1aeVlXMWxkMjl5YXk1RFlYTjBRMjl1ZEdWNGRDNW5aWFJKYm5OMFlXNWpaU2dwTzNSb2FYTXVJM05vYjNWc1pGSmxiRzloWkQxbFB6OGhNQ3hoS0hRdWFYTkRiMjV1WldOMFpXUS9QeUV4S1N4dkxtRmtaRVYyWlc1MFRHbHpkR1Z1WlhJb2JpNUpVMTlEVDA1T1JVTlVSVVJmUTBoQlRrZEZSQ3dvWlQwK2UyTnZibk4wSUhROWNpNW5aWFJEZFhKeVpXNTBVMlZ6YzJsdmJpZ3BPMkVvWlM1MllXeDFaU2tzZGloMEtTeGNJbE5GVTFOSlQwNWZVa1ZUVlUxRlJGd2lQVDA5ZEQ4dVoyVjBVMlZ6YzJsdmJsTjBZWFJsS0NrbUpuUm9hWE11STNOb2IzVnNaRkpsYkc5aFpDWW1LR2dvS1N4aEtDRXhLU2w5S1NsOWMyVnVaRDFtTzNObGJtUlRkSEpwYm1jOWRUdHlaV3h2WVdRb0tYdGhLQ0V4S1N4b0tDbDlmWEpsZEhWeWJpQjBmU2tvS1gwcEtUc2lYU3dpYldGd2NHbHVaM01pT2lKQlFVRkJJaXdpYzI5MWNtTmxVbTl2ZENJNklpSjkiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiLy8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5yID0gKGV4cG9ydHMpID0+IHtcblx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG5cdH1cblx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbn07IiwiaW1wb3J0IHsgQ29kZUNhc3QgfSBmcm9tICdjb2RlY2FzdC9zZW5kZXInXHJcblxyXG53aW5kb3dbJ19fb25HQ2FzdEFwaUF2YWlsYWJsZSddID0gZnVuY3Rpb24oaXNBdmFpbGFibGUpIHtcclxuICBpZiAoaXNBdmFpbGFibGUgJiYgY2FzdCkge1xyXG4gICAgY2FzdC5mcmFtZXdvcmsuQ2FzdENvbnRleHQuZ2V0SW5zdGFuY2UoKS5zZXRPcHRpb25zKHtcclxuICAgICAgcmVjZWl2ZXJBcHBsaWNhdGlvbklkOiAnOEZEOTI2MkMnLFxyXG4gICAgICBhdXRvSm9pblBvbGljeTogY2hyb21lLmNhc3QuQXV0b0pvaW5Qb2xpY3kuT1JJR0lOX1NDT1BFRFxyXG4gICAgfSlcclxuXHJcbiAgICBjb25zdCBwbGF5ZXIgPSBuZXcgY2FzdC5mcmFtZXdvcmsuUmVtb3RlUGxheWVyKClcclxuICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgY2FzdC5mcmFtZXdvcmsuUmVtb3RlUGxheWVyQ29udHJvbGxlcihwbGF5ZXIpXHJcbiAgICBjb25zdCBldmVudHMgPSBjYXN0LmZyYW1ld29yay5SZW1vdGVQbGF5ZXJFdmVudFR5cGVcclxuICAgIGNvbnN0IGRlZmF1bHRDb2RlID0gYGNvbnN0IGNvbnRleHQgPSBjYXN0LmZyYW1ld29yay5DYXN0UmVjZWl2ZXJDb250ZXh0LmdldEluc3RhbmNlKClcclxuY29uc3QgbWFuYWdlciA9IGNvbnRleHQuZ2V0UGxheWVyTWFuYWdlcigpXHJcblxyXG5tYW5hZ2VyLmxvYWQoe1xyXG4gIGF1dG9wbGF5OnRydWUsXHJcbiAgbWVkaWE6IHtcclxuICAgIGNvbnRlbnRVcmw6ICdodHRwczovL3Rlc3Qtc3RyZWFtcy5tdXguZGV2L3gzNnhoenoveDM2eGh6ei5tM3U4J1xyXG4gIH1cclxufSkudGhlbigoKSA9PiB7XHJcbiAgcmVzb2x2ZSgnQ29udGVudCBsb2FkZWQgc3VjY2Vzc2Z1bGx5JylcclxufSkuY2F0Y2goZSA9PiB7XHJcbiAgcmVqZWN0KFxcYENvbnRlbnQgZmFpbGVkIHRvIGxvYWQ6IFxcJHtKU09OLnN0cmluZ2lmeShlKX1cXGApXHJcbn0pYFxyXG5cclxuICAgIGNvbnN0IGNvZGVDYXN0ID0gbmV3IENvZGVDYXN0KClcclxuICAgIGNvbnN0IGNvZGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb2RlJylcclxuICAgIGNvbnN0IGNvZGUgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdjb2RlY2FzdCcpIHx8IGRlZmF1bHRDb2RlXHJcbiAgICBcclxuICAgIGNvZGVJbnB1dC52YWx1ZSA9IGNvZGVcclxuXHJcbiAgICBjb250cm9sbGVyLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnRzLklTX0NPTk5FQ1RFRF9DSEFOR0VELCAoKSA9PiB7XHJcbiAgICAgIHNlbmRDb2RlKGNvZGVDYXN0LCBjb2RlKVxyXG4gICAgfSlcclxuXHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgIGlmICgoZXZlbnQuY3RybEtleSB8fCBldmVudC5tZXRhS2V5KSAmJiBldmVudC5jb2RlID09PSAnS2V5UycpIHtcclxuICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKCdjb2RlY2FzdCcsIGNvZGVJbnB1dC52YWx1ZSlcclxuICAgICAgXHJcbiAgICAgICAgY29kZUNhc3QucmVsb2FkKClcclxuICAgICAgICBzZW5kQ29kZShjb2RlQ2FzdCwgY29kZUlucHV0LnZhbHVlKVxyXG4gICAgICB9IGVsc2UgaWYgKGV2ZW50LmNvZGUgPT09ICdUYWInKSB7XHJcbiAgICAgICAgY29uc3QgY29kZSA9IGNvZGVJbnB1dC52YWx1ZVxyXG4gICAgICAgIGNvbnN0IGJlZm9yZUNvZGUgPSBjb2RlLnN1YnN0cmluZygwLCBjb2RlSW5wdXQuc2VsZWN0aW9uU3RhcnQpXHJcbiAgICAgICAgY29uc3QgYWZ0ZXJDb2RlID0gY29kZS5zdWJzdHJpbmcoY29kZUlucHV0LnNlbGVjdGlvbkVuZCwgY29kZS5sZW5ndGgpXHJcblxyXG4gICAgICAgIGNvZGVJbnB1dC52YWx1ZSA9IGAke2JlZm9yZUNvZGV9ICAke2FmdGVyQ29kZX1gXHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgbmV3Q3Vyc29yUG9zaXRpb24gPSBjb2RlSW5wdXQudmFsdWUubGVuZ3RoIC0gYWZ0ZXJDb2RlLmxlbmd0aFxyXG4gICAgICAgIGNvZGVJbnB1dC5zZXRTZWxlY3Rpb25SYW5nZShuZXdDdXJzb3JQb3NpdGlvbiwgbmV3Q3Vyc29yUG9zaXRpb24pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVyblxyXG4gICAgICB9XHJcblxyXG4gICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfSlcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFwcGVuZFRvQ29uc29sZShjb2xvciwgdmFsdWUpIHtcclxuICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKVxyXG4gIGNvbnN0IGxvZ3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubG9ncycpXHJcbiAgXHJcbiAgb3B0aW9uLmlubmVyVGV4dCA9IHZhbHVlXHJcbiAgb3B0aW9uLmRpc2FibGVkID0gdHJ1ZVxyXG4gIG9wdGlvbi5zdHlsZS5iYWNrZ3JvdW5kID0gY29sb3JcclxuXHJcbiAgbG9ncy5hcHBlbmQob3B0aW9uKVxyXG4gIGxvZ3Muc2Nyb2xsVG9wID0gbG9ncy5zY3JvbGxIZWlnaHRcclxufVxyXG5cclxuZnVuY3Rpb24gc2VuZENvZGUoY29kZUNhc3QsIGNvZGUpIHtcclxuICBjb2RlQ2FzdC5zZW5kU3RyaW5nKGNvZGUpXHJcbiAgICAudGhlbihkYXRhID0+IHtcclxuICAgICAgY29uc29sZS5sb2coZGF0YSlcclxuICAgICAgYXBwZW5kVG9Db25zb2xlKCd0cmFuc3BhcmVudCcsIGRhdGEpXHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKGVycm9yID0+IHtcclxuICAgICAgY29uc29sZS5lcnJvcihlcnJvcilcclxuICAgICAgYXBwZW5kVG9Db25zb2xlKCdyZ2JhKDI1NSwgMCwgMCwgMC4yKScsIGVycm9yKVxyXG4gICAgfSlcclxufVxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQ0E7O0E7Ozs7QUNEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUN2QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUNQQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztBQ1BBOzs7OztBQ0FBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7OztBQ05BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7O0EiLCJzb3VyY2VSb290IjoiIn0=</script></body>
</html>